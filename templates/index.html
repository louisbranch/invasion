<!DOCTYPE html>
<html>
  <head>
    <title>Invasion</title>
  </head>
  <body>
    <h1>Invasion</h1>
    <div>
      <textarea id="chat-log" rows="8" cols="40" disabled></textarea>
      <input type="text" name="message" id="chat" placeholder="type your msg...">
    </div>

    <script type="text/javascript" charset="utf-8">
      (function(window, document) {
        var ws = new WebSocket("ws://localhost:8080/ws/");
        var log = document.getElementById("chat-log");
        var chat = document.getElementById("chat");

        ws.addEventListener("message",function(event) {
          log.value += event.data + "\n";
        });

        chat.addEventListener("keyup", function(event) {
          if (event.keyCode == 13 && chat.value.length != 0) {
            chat.value = "";
          }
        });

      }(window, document));
    </script>
  </body>
</html>
